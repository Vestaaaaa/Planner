(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();function M(){const s=localStorage.getItem("notes");return s?JSON.parse(s):[]}function A(s){localStorage.setItem("notes",JSON.stringify(s))}function $(s){var c;const t=document.createElement("div");t.classList.add("notes-widget");const e=document.createElement("div");e.classList.add("notes-header"),e.innerHTML=`
    <img class = "pen-img" src = "../assets/pen.png">
    <span>Notes</span>
    <a class="notes-add-btn"><img class = "plus-img" src ="../assets/plus.png"></a>
  `,t.appendChild(e);const a=document.createElement("div");a.classList.add("notes-list");function o(){a.innerHTML="",M().forEach(i=>{const l=document.createElement("div");l.className="note-item",l.textContent=i.title,l.onclick=()=>s(i),a.appendChild(l)})}return o(),(c=e.querySelector(".notes-add-btn"))==null||c.addEventListener("click",()=>{var u,b;const n=document.createElement("div");n.classList.add("notes-overlay");const i=document.createElement("div");i.className="notes-modal",i.innerHTML=`
      <h3>New Note</h3>
      <input type="text" class="notes-title-input" placeholder="Enter the title..." />
      <div class="notes-modal-actions">
        <button class="notes-modal-ok">OK</button>
        <button class="notes-modal-cancel">Cancel</button>
      </div>
    `,n.appendChild(i),document.body.appendChild(n);const l=i.querySelector(".notes-title-input");l.focus(),(u=i.querySelector(".notes-modal-ok"))==null||u.addEventListener("click",()=>{const C=l.value.trim();if(C.length){const h=M();h.unshift({id:Date.now().toString(),title:C,content:""}),A(h),o(),document.body.removeChild(n)}}),(b=i.querySelector(".notes-modal-cancel"))==null||b.addEventListener("click",()=>{document.body.removeChild(n)})}),t.appendChild(a),t}function Y(){const s=document.createElement("div");s.classList.add("hp-container");const t=document.createElement("h1");t.classList="title-notes",t.textContent="Love you";const e=[{text:"Daily Planner",icon:"../assets/paw.png",path:"/daily-planner"},{text:"Do not forget",icon:"../assets/paper-clip.png",path:"/do-not-forget"}];s.appendChild(t);const a=document.createElement("div");a.classList.add("buttons-container"),e.forEach(c=>{const n=document.createElement("div");n.classList.add("main-buttons");const i=document.createElement("h2");i.textContent=c.text,i.classList="hp-btn-text";const l=document.createElement("img");l.src=c.icon,n.appendChild(l),n.appendChild(i),n.onclick=()=>{window.history.pushState({},"",c.path);const u=new PopStateEvent("popstate");dispatchEvent(u)},a.appendChild(n),s.appendChild(a)});const o=$(c=>{window.history.pushState({},"",`/note/${c.id}`);const n=new PopStateEvent("popstate");dispatchEvent(n)});return s.appendChild(o),s}const F="dailyPlannerData_";function q(s){const t=localStorage.getItem(F+s);if(t)try{const e=JSON.parse(t);if(Array.isArray(e.notes)){const a=new Date().toISOString().slice(0,10);return{...e,notes:{[a]:e.notes}}}return(typeof e.notes!="object"||e.notes===null)&&(e.notes={}),e}catch(e){console.error("Ошибка при загрузке данных DailyPlanner из localStorage:",e)}return{notes:{},selectedDate:new Date().toISOString(),tasks:{}}}function z(s,t){try{localStorage.setItem(F+s,JSON.stringify(t))}catch(e){console.error("Ошибка при сохранении данных DailyPlanner в localStorage:",e)}}function j(s){const t=[],e=new Date(s),a=e.getDay(),o=new Date(e),c=(a+6)%7;o.setDate(e.getDate()-c);for(let n=0;n<7;n++){const i=new Date(o);i.setDate(o.getDate()+n),t.push(i)}return t}function G(s){const t=q(s);let e=new Date(t.selectedDate),a=t.notes||{},o=t.tasks||{};const c=document.createElement("div");c.classList.add("daily-planner");const n=document.createElement("div");n.className="dp-left-col";const i=document.createElement("div");i.className="dp-main";const l=document.createElement("div");l.className="dp-bottom-row";const u=document.createElement("button");u.className="dp-btn-add",u.innerText="+",u.title="Add a priority note";function b(){return e.toISOString().slice(0,10)}u.onclick=()=>{const p=prompt("Введите важную заметку для этого дня");if(p&&p.trim()){const g=b();a[g]||(a[g]=[]),a[g].push({text:p.trim(),done:!1}),h()}},l.appendChild(u);function C(){l.innerHTML="",l.appendChild(u);const p=a[b()]||[];p.forEach((g,L)=>{const r=document.createElement("span");r.className="dp-priority-note",r.innerText=g.text,g.done?(r.style.textDecoration="line-through",r.style.opacity="0.6"):(r.style.textDecoration="none",r.style.opacity="1"),r.style.cursor="pointer",r.style.userSelect="none",r.style.marginRight="8px",r.onclick=()=>{g.done=!g.done,h()},r.oncontextmenu=E=>{E.preventDefault(),confirm("Удалить эту важную заметку?")&&(p.splice(L,1),h())},l.appendChild(r)})}function h(){z(s,{notes:a,selectedDate:e.toISOString(),tasks:o}),B(),C()}function B(){c.innerHTML="",n.innerHTML="";const p=document.createElement("a");p.className="btn-previous-week",p.title="Previous week";const g=document.createElement("img");g.src="../assets/btn-previous-week.png",p.appendChild(g),p.onclick=()=>{e.setDate(e.getDate()-7),h()},n.appendChild(p);const L=j(e),r=document.createElement("div");r.className="dayWeekContainer",n.appendChild(r),L.forEach(d=>{const f=document.createElement("div");f.className="dp-day",d.getDate()===e.getDate()&&d.getMonth()===e.getMonth()&&d.getFullYear()===e.getFullYear()&&f.classList.add("active");const v=document.createElement("span");v.className="dp-day-num";const m=document.createElement("h2");m.classList="day-number",m.textContent=d.getDate().toString().padStart(2,"0"),v.appendChild(m);const y=document.createElement("span");y.className="dp-day-week";const T=document.createElement("h2");T.classList="week-name";const _=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];T.textContent=_[(d.getDay()+6)%7],y.appendChild(T),f.append(v,y),f.onclick=()=>{e=new Date(d),h()},r.appendChild(f)});const E=document.createElement("a");E.className="btn-next-week",E.title="Next week";const H=document.createElement("img");H.src="../assets/btn-next-week.png",E.appendChild(H),E.onclick=()=>{e.setDate(e.getDate()+7),h()},n.appendChild(E),i.innerHTML="";const x=document.createElement("div");x.className="dp-title-row";const S=document.createElement("a");S.classList="btn-calendar";const W=document.createElement("img");W.src="/assets/btn-calendar.png",S.appendChild(W);const w=document.createElement("input");w.type="date",w.style.display="none";const J=e.getFullYear(),K=(e.getMonth()+1).toString().padStart(2,"0"),R=e.getDate().toString().padStart(2,"0");w.value=`${J}-${K}-${R}`,S.onclick=()=>w.click(),w.onchange=d=>{const f=d.target.value,[v,m,y]=f.split("-");e=new Date(parseInt(v),parseInt(m)-1,parseInt(y)),h()},S.appendChild(w),x.appendChild(S);const N=document.createElement("div");N.className="dp-date-label",N.innerHTML=`
      <span class="day-number-label">${e.getDate()}</span> 
      <span class="month-name-label">${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}</span> 
      <span class="year-number-label">${e.getFullYear()}</span>
    `,x.appendChild(N),i.appendChild(x);const I=document.createElement("div");I.className="dp-todo-list";const O=e.toISOString().slice(0,10);o[O]||(o[O]=new Array(10).fill(null).map(()=>({text:"",checked:!1})));const P=o[O];for(let d=0;d<10;d++){const f=P[d]||{text:"",checked:!1},v=document.createElement("div");v.className="dp-todo-row";const m=document.createElement("input");m.type="checkbox",m.classList.add("checkbox"),m.checked=f.checked,m.onchange=()=>{P[d].checked=m.checked,h()};const y=document.createElement("input");y.type="text",y.value=f.text,y.oninput=()=>{P[d].text=y.value},v.appendChild(m),v.appendChild(y),I.appendChild(v)}i.appendChild(I),i.appendChild(l),c.appendChild(n),c.appendChild(i)}return B(),C(),c}function X(){const s=document.createElement("div");s.classList.add("dnf-container");const t=document.createElement("textarea");t.classList="dnf-textarea";const e="do-not-forget-note",a="do-not-forget-note-size",o=localStorage.getItem(e);t.value=o!=null&&o.length>0?o:"",t.placeholder="Write what you want to not forget :)";const c=localStorage.getItem(a);if(c)try{const n=JSON.parse(c);n.width&&n.height&&(t.style.width=n.width,t.style.height=n.height)}catch{}return t.addEventListener("input",()=>{localStorage.setItem(e,t.value)}),t.addEventListener("mouseup",()=>{const n=t.style.width||t.offsetWidth+"px",i=t.style.height||t.offsetHeight+"px";localStorage.setItem(a,JSON.stringify({width:n,height:i}))}),t.addEventListener("mouseleave",()=>{const n=t.style.width||t.offsetWidth+"px",i=t.style.height||t.offsetHeight+"px";localStorage.setItem(a,JSON.stringify({width:n,height:i}))}),s.appendChild(t),s}function Z(s){const t=document.createElement("div");t.classList="ep-container";const e=document.createElement("h2");e.textContent="Entrance";const a=document.createElement("input");a.type="password",a.placeholder="Enter a password...";const o=document.createElement("button");o.innerText="Log in",o.onmouseenter=()=>o.style.backgroundColor="#9a3e77",o.onmouseleave=()=>o.style.backgroundColor="#b64d90";const c=document.createElement("div");return o.onclick=()=>{const n=a.value.trim();n==="130706"||n==="010505"?(c.innerText="",s(n)):c.innerText="Неверный пароль. Попробуйте ещё раз."},t.append(e,a,o,c),t}function Q(s){const t=M(),e=t.find(i=>i.id===s),a=document.createElement("div");if(a.className="note-page",!e)return a.innerHTML="<h2>Заметка не найдена</h2>",a;const o=document.createElement("h2");o.textContent=e.title,a.appendChild(o);const c=document.createElement("textarea");c.placeholder="Start your note...",c.value=e.content,c.oninput=()=>{e.content=c.value,A(t)},a.appendChild(c);const n=document.createElement("button");return n.textContent="Back",n.onclick=()=>{window.history.pushState({},"","/");const i=new PopStateEvent("popstate");dispatchEvent(i)},a.appendChild(n),a}let D=localStorage.getItem("app_password");function U(s){D=s,localStorage.setItem("app_password",s)}function V(){const s=document.createElement("nav");[{path:"/",label:"/assets/btn-home.png",class:"home-img"},{path:"/daily-planner",label:"/assets/smal-paw.png",class:"paw-img"},{path:"/do-not-forget",label:"/assets/btn-donotforget.png",class:"dnf-img"}].forEach(({path:a,label:o,class:c})=>{const n=document.createElement("a");if(n.href=a,window.location.pathname===a&&n.classList.add("active"),typeof o=="string"&&/\.(png|jpe?g|gif|svg)$/i.test(o)){const i=document.createElement("img");i.src=o,i.classList.add(c),n.appendChild(i)}n.onclick=i=>{i.preventDefault(),window.location.pathname!==a&&(window.history.pushState({},"",a),k())},s.appendChild(n)});const e=document.createElement("button");return e.classList="btn-logOut",e.innerText="Log Out",e.style.marginTop="20px",e.style.padding="8px 12px",e.style.backgroundColor="#e37ab6ff",e.style.color="color",e.style.border="none",e.style.borderRadius="20px",e.style.cursor="pointer",e.onclick=()=>{D=null,localStorage.removeItem("app_password"),window.history.pushState({},"","/"),k()},s.appendChild(e),s}function k(){const s=document.getElementById("app-content");if(!s)return;if(s.innerHTML="",!D){const e=Z(a=>{U(a),window.history.pushState({},"","/"),k()});s.appendChild(e);return}s.appendChild(V());let t;if(window.location.pathname.startsWith("/note/")){const e=window.location.pathname.replace("/note/","");t=Q(e)}else switch(window.location.pathname){case"/":t=Y();break;case"/daily-planner":t=G(D);break;case"/do-not-forget":t=X();break;default:t=document.createElement("div"),t.innerText="404 Not Found"}s.appendChild(t)}window.addEventListener("popstate",k);k();
